{"version":3,"sources":["basemap.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"basemap.js","sourcesContent":["window.basemapTools = {};\nvar basemapTools = window.basemapTools;\nfunction initBasemap(tools,map){    \n    var div = document.createElement('div');\n    div.id = 'divBasemap';\n    div.className = '';\n    var selectDom = document.createElement('select');\n    selectDom.className = 'form-control';\n    var options = '';\n    for (var x = 0; x < basemapSource().length; x++) {\n        var data = basemapSource();\n        options += '<option value=\"' + data[x] +'\">' + data[x] + '</option>';\n    }\n    selectDom.innerHTML = options;\n    $(selectDom).change(function(e) {\n       console.log($(this).val());\n       \n       \n    });\n    div.appendChild(selectDom);\n    var basemap = document.getElementById(tools);\n    basemap.appendChild(div);\n}\n\nbasemapTools.basemapControl = function(opt_options) {\n    var options = opt_options || {};\n\n    var this_ = this;\n    var basemapSource = function(){\n        return ['esri_topo','esri_terrain','esri_street','esri_image','esri_natgeo','esri_ocean','osm','bing','rupabumi']\n    }\n    var findLayerBy = function(layer, key, value) {\n        \n        if (layer.get(key) === value) {\n            return layer;\n        }\n        \n        if (layer.getLayers) {\n            var layers = layer.getLayers().getArray(),len = layers.length, result;\n            for (var i = 0; i < len; i++) {\n                result = findLayerBy(layers[i], key, value);\n                if (result) {\n                  return result;\n                }\n            }\n        }\n        \n        return null;\n    }\n    var changeBasemap = function(_b){\n        var basemap = findLayerBy(window.map.getLayerGroup(), 'id', 'basemap');\n        if(basemap.get('isBasemap')){\n            if(_b == 'esri_topo'){\n                basemap.getSource().setUrl('http://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}');\n            }else if(_b == 'esri_terrain'){\n                basemap.getSource().setUrl('http://services.arcgisonline.com/arcgis/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}');\n            }else if(_b == 'esri_street'){\n                basemap.getSource().setUrl('http://services.arcgisonline.com/arcgis/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}');\n            }else if(_b == 'esri_image'){\n                basemap.getSource().setUrl('http://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}');\n            }else if(_b == 'esri_natgeo'){\n                basemap.getSource().setUrl('http://services.arcgisonline.com/arcgis/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}');\n            }else if(_b == 'esri_ocean'){\n                basemap.getSource().setUrl('http://services.arcgisonline.com/arcgis/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}');\n            }else if(_b == 'rupabumi'){\n                basemap.getSource().setUrl('http://portal.ina-sdi.or.id/arcgis/rest/services/IGD/RupabumiIndonesia/MapServer/tile/{z}/{y}/{x}');\n            }else if(_b == 'google'){\n                basemap.setSource(\n                    new ol.source.TileImage(\n                        { url: 'http://mt1.google.com/vt/lyrs=s&hl=pl&&x={x}&y={y}&z={z}' }\n                    )\n                );\n            }else if(_b == 'google_road_name'){\n                basemap.setSource(\n                    new ol.source.TileImage({ url: 'http://mt1.google.com/vt/lyrs=h&x={x}&y={y}&z={z}' })\n                );\n            }else if(_b == 'google_road_map'){\n                basemap.setSource(\n                    new ol.source.TileImage({ url: 'http://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}' })\n                );\n            }else if(_b == 'google_satellite_road'){\n                basemap.setSource(\n                    new ol.source.TileImage({ url: 'http://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}' })\n                );\n            }else if(_b == 'google_terrain'){\n                basemap.setSource(\n                    new ol.source.TileImage({ url: 'http://mt1.google.com/vt/lyrs=t&x={x}&y={y}&z={z}' })\n                );\n            }else if(_b == 'google_terrain_road'){\n                basemap.setSource(\n                    new ol.source.TileImage({ url: 'http://mt1.google.com/vt/lyrs=p&x={x}&y={y}&z={z}' })\n                );\n            }else if(_b == 'google_road_without_building'){\n                basemap.setSource(\n                    new ol.source.TileImage({ url: 'http://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}' })\n                );\n            }else if(_b == 'bing'){\n                basemap.setSource(new ol.source.BingMaps({\n                    key: 'AsxtakN7WqZ-AjpgvhxvrHgENDh-spnL7HIh3SaLOzmDjN8J4AO-PeSU-j7Ssav0',\n                    imagerySet: 'AerialWithLabels'\n                    // use maxZoom 19 to see stretched tiles instead of the BingMaps\n                    // \"no photos at this zoom level\" tiles\n                    // maxZoom: 19\n                }));\n            }else{\n                basemap.setSource(new ol.source.OSM());\n            }\n        }\n    }\n\n    var div = document.createElement('div');\n    div.id = 'divBasemap';\n    div.className = 'basemapTools ol-unselectable ol-control';\n    var selectDom = document.createElement('select');\n    selectDom.className = 'form-control';\n    var options = '';\n    for (var x = 0; x < basemapSource().length; x++) {\n        var data = basemapSource();\n        options += '<option value=\"' + data[x] +'\">' + data[x] + '</option>';\n    }\n    selectDom.innerHTML = options;\n    basemapTools.map = window.map;\n    $(selectDom).change(function(e) {\n       console.log($(this).val());\n       changeBasemap($(this).val());\n    });\n    div.appendChild(selectDom);\n    //var basemap = document.getElementById(tools);\n    //basemap.appendChild(div);\n\n    ol.control.Control.call(this, {\n        element: div,\n        target: options.target\n    });\n\n    \n}\nol.inherits(basemapTools.basemapControl, ol.control.Control);\n\n"]}